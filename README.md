```text
.
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ RAF_raw/                # Place original dataset here (aligned & original folders)
â”‚   â”œâ”€â”€ RAF_aligned_processed/  # Generated by prepare_RAF_raw.py (used for training)
â”‚   â””â”€â”€ RAF_original_processed/ # Generated by prepare_RAF_raw.py (full size images)
â”œâ”€â”€ models/                  # Saved model checkpoints (*.pth)
â”œâ”€â”€ results/                 # Output CSVs and evaluation metrics
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ evaluate.py          # Generates confusion matrix & report
â”‚   â”œâ”€â”€ generate_csv.py      # Generates predictions.csv
â”‚   â”œâ”€â”€ model.py             # CNN Architecture definition
â”‚   â”œâ”€â”€ prepare_RAF_raw.py   # Data preprocessing script
â”‚   â””â”€â”€ train.py             # Main training loop
â”œâ”€â”€ requirements.txt         # Python dependencies
â””â”€â”€ README.md


## 1. Data Preparation and Preprocessing

### 1.1 RAF Dataset

- Create a new directory called "RAF_raw" inside the project's data directory.
- Copy the "EmoLabel" and "Image" directories from the official RAF database into "data/RAF_raw/".
- IMPORTANT: To use our self-developed face alignment method, delete the "aligned" directory inside "Image".
- Run the preprocessing script:
  python src/preprocess_RAF_raw.py
- Run the preparation script:
  python src/prepare_RAF_raw.py

This script creates two directories:
- data/RAF_aligned_processed/ (used for training)
- data/RAF_original_processed/ (full-size images)

Each directory contains subfolders for the following emotion classes:
- Anger
- Disgust
- Fear
- Happiness
- Sadness
- Surprise

Data directory structure after Step 1.1:

data/
â”œâ”€â”€ RAF_raw/
â”œâ”€â”€ RAF_aligned_processed/
â””â”€â”€ RAF_original_processed/

---

### 1.2 KDEF Dataset

- Place the official "KDEF" dataset inside the "data" directory.
- Run the preparation script:
  python src/prepare_KDEF.py
- Run the preprocessing script:
  python src/preprocess.py

Data directory structure after Steps 1.1 and 1.2:

data/
â”œâ”€â”€ KDEF/
â”‚   â”œâ”€â”€ AF01/
â”‚   â”œâ”€â”€ BM35/
â”‚   â”œâ”€â”€ ...
â”‚   â”œâ”€â”€ EmoLabel/
â”‚   â””â”€â”€ Image/
â”‚       â”œâ”€â”€ KDEF_aligned_processed/
â”‚       â””â”€â”€ KDEF_original_processed/
â”œâ”€â”€ RAF_raw/
â”œâ”€â”€ RAF_aligned_processed/
â””â”€â”€ RAF_original_processed/

---

### 1.3 Merging RAF and KDEF

- To use KDEF as additional training data (currently training only),
  add the aligned and processed KDEF images to the corresponding emotion
  folders in "RAF_aligned_processed/".
- Run the merging script:
  python src/merge.py



1. Data Preparation and Preprocessing

1.1 RAF Dataset

- Create a new directory called "RAF_raw" in the project's data directory.
- Place the "EmoLabel" and "Image" directories from the official database in "RAF_raw".
- IMPORTANT: To use our self developed alignment method, delete the "aligned" directory in "Image".
- Run the preprocessing script:
    python src/preprocess_RAF_raw.py
- Run the preparation script:
    python src/prepare_RAF_raw.py
This script creates two directories ("data/RAF_aligned_processed/" and "data/RAF_original_processed/"), each containing subfolders for the following emotions:*
    * ðŸ˜¡ **Anger**
    * ðŸ¤¢ **Disgust**
    * ðŸ˜± **Fear**
    * ðŸ˜„ **Happiness**
    * ðŸ˜¢ **Sadness**
    * ðŸ˜² **Surprise** 
=> Data directory after these 1.1:

â”œâ”€â”€ data/
    â”œâ”€â”€ RAF_raw/                # Place original dataset here (EmoLabel & Image folders)
    â”œâ”€â”€ RAF_aligned_processed/  # Generated by prepare_RAF_raw.py (used for training)
    â””â”€â”€ RAF_original_processed/ # Generated by prepare_RAF_raw.py (full size images)

1.2 KDEF Dataset

- Place the official dataset "KDEF" in the "data" directory.
- Run the preparation script:
    python src/prepare_KDEF.py
- Run the preprocessing script:
    python src/preprocess.py
=> Data directory after 1.1 and 1.2:

â”œâ”€â”€ data/
â”œâ”€â”€ KDEF/                   # Place original dataset here
â”‚   â”œâ”€â”€ AF01/   ##           
â”‚   ...          # Artifacts of the original KDEF dataset.
â”‚   â”œâ”€â”€ BM35/   ##
â”‚   â”œâ”€â”€ EmoLabel/
â”‚   â””â”€â”€ Image/
â”‚       â”œâ”€â”€ KDEF_aligned_processed/   # Generated by prepare_RAF_raw.py (used for training)
â”‚       â””â”€â”€ KDEF_original_processed/  # Generated by prepare_RAF_raw.py (full size images)
â”‚
â”œâ”€â”€ RAF_raw/                
â”œâ”€â”€ RAF_aligned_processed/ 
â””â”€â”€ RAF_original_processed/

1.3 Merging

- In order to use KDEF as additional train/test (currently only train) data,
  add the aligned+processed pictures of KDEF to the aligned+proccessed pictures of RAF.
- Run the merging scrip:
    python src/merge.py


